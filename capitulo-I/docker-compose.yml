version: '2.3'
services:
        db:
                image: postgres
                restart: always
                volumes:
                        - ./initdb:/docker-entrypoint-initdb.d
                environment:
                        POSTGRES_PASSWORD: toor
                        POSTGRES_USER: root
                networks:
                        nakernet:
                                ipv4_address: 192.168.1.2


        app:
                image: httpd
                restart: always
                volumes:
                        - ./web-application:/usr/local/apache2/htdocs
                ports:
                        - "8080:80"
                networks:
                        nakernet:
                                ipv4_address: 192.168.1.3

networks:
       nakernet:
               driver: bridge
               ipam:
                        config:
                               - subnet: 192.168.1.0/24
